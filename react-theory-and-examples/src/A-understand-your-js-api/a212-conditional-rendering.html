<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Conditional Rendering</title>

    <script
      crossorigin
      src="https://unpkg.com/@babel/standalone@7.28.5/babel.min.js"
    ></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
      import React, { useState, useEffect } from "https://esm.sh/react@19";
      import { createRoot } from "https://esm.sh/react-dom@19/client";

      /**
       * Zadanie:
       * 1. Do켹칩콮 button zmieniaj캔cy warto콑캖 stanu isWeatherFine
       * 2. Komponent HappySunnyFace ma si캧 pojawia캖 (w miejscu poni콮ej) tylko je콑li pogoda jest dobra (isWeatherFine = true)
       * 3. Sprawd콬 jakie typy proste mo콮e renderowa캖 w React
       *
       * Cel:
       * Sprawdzenie jak w React renderowa캖 co콑 lub nie w zale콮no콑ci od warunku.
       * Nie tylko pod wzgl캧dem typ칩w prostych, ale r칩wnie콮 komponent칩w i element칩w JSX.
       * */

      const HappySunnyFace = () => {
        // console.log('HappySunnyFace logic fire...')
        // sprawd콬 por칩wnaj z a304.
        useEffect(() => {
          console.log("HappySunnyFace rendered on DOM");
          return () => {
            console.log("HappySunnyFace DESTROYED!");
          }
        }, []);
        return <span> 游땙 </span>;
      };

      function Toggler() {
        const [isWeatherFine, setIsWeatherFine] = useState(true);

        useEffect(() => {
          console.log("Toggler rendered on DOM");
          // to tutaj mo콮emy za켹adwa캖 dane jakie콑 np. z back-endu do komponentu
        }, []);

        // console.log("Toggler state changed...");
        // PROBLEM:
        // chemy zna캖 moment w kt칩rym komponent jest montowany na DOM, ale, nie chcemy mie캖 zn칩w tego momentu
        // "logiki" uruchamianej za KA콭D캓 KOLEJN캓 ZMIAN캓 STANU

        const weatherIs = "Pogoda jest " + (isWeatherFine ? "Dobra" : "Z켹a");

        return (
          <div>
            {weatherIs}
            <div>
              {/* tutaj dodaj button */}
              {/*<button onClick={setIsWeatherFine(!isWeatherFine)}> Zmiana pogody </button>*/}
              <button
                onClick={() => {
                  setIsWeatherFine(!isWeatherFine);
                  console.log("setIsWeatherFine fired");
                }}
              >
                Zmiana pogody
              </button>
            </div>
            <div>{isWeatherFine && <HappySunnyFace />}</div>
          </div>
        );
      }

      const root = createRoot(document.getElementById("root"));
      root.render(<Toggler />);
    </script>
  </body>
</html>
